("function"==typeof define&&define.amd?define:function(n,t){return t()})(["./kendo.list.min"],function(){!function(n,t){function o(n,t,i){return i?t.substring(0,n).split(i).length-1:0}function g(n,t,i){return t.split(i)[o(n,t,i)]}function nt(n,t,i,r){var u=t.split(r);return u.splice(o(n,t,r),1,i),r&&""!==u[u.length-1]&&u.push(""),u.join(r)}function tt(n){var t=n.value.length;d(n,t,t)}var f=window.kendo,it=f.support,rt=f._activeElement,a=it.placeholder,v=f.ui,r=f.keys,ut=f.data.DataSource,u=v.List,y="aria-disabled",p="aria-readonly",s="k-state-default",w="disabled",b="readonly",k="k-state-focused",h="k-state-selected",c="k-state-disabled",ft="k-state-hover",i=".kendoAutoComplete",et="mouseenter"+i+" mouseleave"+i,l=u.caret,d=u.selectText,e=n.proxy,ot=u.extend({init:function(t,r){var s,o=this;o.ns=i;r=n.isArray(r)?{dataSource:r}:r;u.fn.init.call(o,t,r);t=o.element;r=o.options;r.placeholder=r.placeholder||t.attr("placeholder");a&&t.attr("placeholder",r.placeholder);o._wrapper();o._loader();o._dataSource();o._ignoreCase();t[0].type="text";s=o.wrapper;o._popup();t.addClass("k-input").on("keydown"+i,e(o._keydown,o)).on("paste"+i,e(o._search,o)).on("focus"+i,function(){o._prev=o._accessor();o._placeholder(!1);s.addClass(k)}).on("blur"+i,function(){o._change();o._placeholder();s.removeClass(k)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0});o._enable();o._old=o._accessor();t[0].id&&t.attr("aria-owns",o.ul[0].id);o._aria();o._placeholder();f.notify(o)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var n=this;n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._refreshHandler=e(n.refresh,n),n._progressHandler=e(n._showBusy,n));n.dataSource=ut.create(n.options.dataSource).bind("change",n._refreshHandler).bind("progress",n._progressHandler)},setDataSource:function(n){this.options.dataSource=n;this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(n){u.fn.setOptions.call(this,n);this._template();this._accessors();this._aria()},_editable:function(n){var r=this,f=r.element,e=r.wrapper.off(i),u=n.readonly,t=n.disable;u||t?(e.addClass(t?c:s).removeClass(t?s:c),f.attr(w,t).attr(b,u).attr(y,t).attr(p,u)):(e.addClass(s).removeClass(c).on(et,r._toggleHover),f.removeAttr(w).removeAttr(b).attr(y,!1).attr(p,!1))},close:function(){var n=this,t=n._current;t&&t.removeClass(h);n.current(null);n.popup.close()},destroy:function(){var n=this;n.element.off(i);n.wrapper.off(i);u.fn.destroy.call(n)},refresh:function(){var r,i=this,u=i.ul[0],e=i.popup,s=i.options,h=i._data(),o=h.length;i.trigger("dataBinding");u.innerHTML=f.render(i.template,h);i._height(o);e.visible()&&e._position();o&&(s.highlightFirst&&i.current(n(u.firstChild)),s.suggest&&i.suggest(n(u.firstChild)));i._open&&(i._open=!1,r=o?"open":"close",i._typing&&i.element[0]!==rt()&&(r="close"),e[r](),i._typing=t);i._touchScroller&&i._touchScroller.reset();i._makeUnselectable();i._hideBusy();i.trigger("dataBound")},select:function(n){this._select(n)},search:function(n){var r,t=this,i=t.options,u=i.ignoreCase,f=i.separator;n=n||t._accessor();t._current=null;clearTimeout(t._typing);f&&(n=g(l(t.element[0]),n,f));r=n.length;r?r>=t.options.minLength&&(t._open=!0,t._filterSource({value:u?n.toLowerCase():n,operator:i.filter,field:i.dataTextField,ignoreCase:u})):t.popup.close()},open:function(){this._open=!0;this.dataSource.filter({value:"",operator:this.options.filter,field:this.options.dataTextField,ignoreCase:this.options.ignoreCase})},suggest:function(n){var i,f=this,a=f._last,e=f._accessor(),v=f.element[0],s=l(v),h=f.options.separator,c=e.split(h),y=o(s,e,h),p=s;return a==r.BACKSPACE||a==r.DELETE?(f._last=t,t):(n=n||"","string"!=typeof n&&(i=u.inArray(n[0],f.ul[0]),n=i>-1?f._text(f._data()[i]):""),0>=s&&(s=e.toLowerCase().indexOf(n.toLowerCase())+1),i=e.substring(0,s).lastIndexOf(h),i=i>-1?s-(i+h.length):s,e=c[y].substring(0,i),n&&(i=n.toLowerCase().indexOf(e.toLowerCase()),i>-1&&(n=n.substring(i+e.length),p=s+n.length,e+=n),h&&""!==c[c.length-1]&&c.push("")),c[y]=e,f._accessor(c.join(h||"")),d(v,s,p),t)},value:function(n){return n===t?this._accessor():(this._accessor(n),this._old=n,t)},_accessor:function(n){var i=this,r=i.element[0];return n===t?(n=r.value,r.className.indexOf("k-readonly")>-1?n===i.options.placeholder?"":n:n):(r.value=null===n?"":n,i._placeholder(),t)},_accept:function(n){var t=this;t._focus(n);tt(t.element[0])},_keydown:function(t){var i=this,e=i.ul[0],u=t.keyCode,f=i._current,o=i.popup.visible();i._last=u;u===r.DOWN?(o&&i._move(f?f.next():n(e.firstChild)),t.preventDefault()):u===r.UP?(o&&i._move(f?f.prev():n(e.lastChild)),t.preventDefault()):u===r.ENTER||u===r.TAB?(u===r.ENTER&&i.popup.visible()&&t.preventDefault(),i._accept(f)):u===r.ESC?(i.popup.visible()&&t.preventDefault(),i.close()):i._search()},_move:function(n){var t=this;n=n[0]?n:null;t.current(n);t.options.suggest&&t.suggest(n)},_hideBusy:function(){var n=this;clearTimeout(n._busy);n._loading.hide();n.element.attr("aria-busy",!1);n._busy=null},_showBusy:function(){var n=this;n._busy||(n._busy=setTimeout(function(){n.element.attr("aria-busy",!0);n._loading.show()},100))},_placeholder:function(n){if(!a){var i,u=this,f=u.element,r=u.options.placeholder;if(r){if(i=f.val(),n===t&&(n=!i),n||(r=i!==r?i:""),i===u._old&&!n)return;f.toggleClass("k-readonly",n).val(r)}}},_search:function(){var n=this;clearTimeout(n._typing);n._typing=setTimeout(function(){n._prev!==n._accessor()&&(n._prev=n._accessor(),n.search())},n.options.delay)},_select:function(t){var r,f,i=this,o=i.options.separator,e=i._data();t=n(t);t[0]&&!t.hasClass(h)&&(f=u.inArray(t[0],i.ul[0]),f>-1&&(e=e[f],r=i._text(e),o&&(r=nt(l(i.element[0]),i._accessor(),r,o)),i._accessor(r),i.current(t.addClass(h))))},_loader:function(){this._loading=n('<span class="k-icon k-loading" style="display:none"><\/span>').insertAfter(this.element)},_toggleHover:function(t){n(t.currentTarget).toggleClass(ft,"mouseenter"===t.type)},_wrapper:function(){var n,t=this,i=t.element,r=i[0];n=i.parent();n.is("span.k-widget")||(n=i.wrap("<span />").parent());n.attr("tabindex",-1);n.attr("role","presentation");n[0].style.cssText=r.style.cssText;i.css({width:"100%",height:r.style.height});t._focused=t.element;t.wrapper=n.addClass("k-widget k-autocomplete k-header").addClass(r.className)}});v.plugin(ot)}(window.kendo.jQuery)});